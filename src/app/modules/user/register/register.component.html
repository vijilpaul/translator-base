<div class="multi-register">
    <h1>Register</h1>
    <div class="multi-register_step">
        <ul class="multi-register_progress">
            <li [ngClass]="step == 1 ? 'active ' : 'inactive'">Personal Details</li>
            <li [ngClass]="step == 2 ? 'active' : 'inactive'">Address Details</li>
            <li [ngClass]="step == 3 ? 'active' : 'inactive'">Service Details</li>
        </ul>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <form [formGroup]="personalDetails" id="msform">
                <fieldset *ngIf="step == 1">
                    <h2 class="fs-title">Personal Details</h2>
                    <div class="form-group">
                        <label for="account_type">Account type</label>
                        <select class="custom-select" formControlName="account_type"
                            [ngClass]="{ 'is-invalid': personal_step && personal.account_type.errors }">
                            <option value="">Select One</option>
                            <option value="translator">Freelance translator and/or interpreter</option>
                            <option value="agency">Translation agency/company employee or owner</option>
                        </select>
                        <div *ngIf="personal_step && personal.account_type.errors" class="invalid-feedback">
                            <div *ngIf="personal.account_type.errors.required">Please Select Account type</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Your email address</label>
                        <input type="text" formControlName="email" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.email.errors }" />
                        <div *ngIf="personal_step && personal.email.errors" class="invalid-feedback">
                            <div *ngIf="personal.email.errors.required">Your email address is required</div>
                            <div *ngIf="personal.email.errors.userEmailExists">Email already exist</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="first_name">First Name</label>
                        <input type="text" formControlName="first_name" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.first_name.errors }" />
                        <div *ngIf="personal_step && personal.first_name.errors" class="invalid-feedback">
                            <div *ngIf="personal.first_name.errors.required">First Name is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="last_name">Last Name</label>
                        <input type="text" formControlName="last_name" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.last_name.errors }" />
                        <div *ngIf="personal_step && personal.last_name.errors" class="invalid-feedback">
                            <div *ngIf="personal.last_name.errors.required">Last Name is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" formControlName="username" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.username.errors }" />
                        <div *ngIf="personal_step && personal.username.errors" class="invalid-feedback">
                            <div *ngIf="personal.username.errors.required">Username is required</div>
                            <div *ngIf="personal.username.errors.whitespace">Please enter valid data whitout space</div>
                            <div *ngIf="personal.username.errors.userNameExists">Username already exist</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" formControlName="password" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.password.errors }" />
                        <div *ngIf="personal_step && personal.password.errors" class="invalid-feedback">
                            <div *ngIf="personal.password.errors.required">Password is required</div>
                            <div *ngIf="personal.password.errors.minlength">Password must be at least 6 characters</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="confirm_password">Confirm password</label>
                        <input type="password" formControlName="confirm_password" class="form-control"
                            [ngClass]="{ 'is-invalid': personal_step && personal.confirm_password.errors }" />
                        <div *ngIf="personal_step && personal.confirm_password.errors" class="invalid-feedback">
                            <div *ngIf="personal.confirm_password.errors.required">Password is required</div>
                            <div *ngIf="personal.confirm_password.errors.minlength">Password must be at least 6
                                characters</div>
                            <div *ngIf="personal.confirm_password.errors.mustMatch">Password does not match</div>
                        </div>
                    </div>
                    <input (click)="next()" type="button" name="next" class="btn btn-primary float-right"
                        value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="addressDetails" id="msform">
                <fieldset *ngIf="step == 2">
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" formControlName="address" class="form-control"
                            [ngClass]="{ 'is-invalid': address_step && address.address.errors }" />
                        <div *ngIf="address_step && address.address.errors" class="invalid-feedback">
                            <div *ngIf="address.address.errors.required">Address is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" formControlName="city" class="form-control"
                            [ngClass]="{ 'is-invalid': address_step && address.city.errors }" />
                        <div *ngIf="address_step && address.city.errors" class="invalid-feedback">
                            <div *ngIf="address.city.errors.required">City is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <select class="custom-select" formControlName="country"
                            [ngClass]="{ 'is-invalid': address_step && address.country.errors }">
                            <option value="">Select One</option>
                            <option value="USA">USA</option>
                            <option value="India">India</option>
                        </select>
                        <div *ngIf="address_step && address.country.errors" class="invalid-feedback">
                            <div *ngIf="address.country.errors.required">Please Select Country</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="state">State</label>
                        <select class="custom-select" formControlName="state"
                            [ngClass]="{ 'is-invalid': address_step && address.state.errors }">
                            <option value="">Select One</option>
                            <option value="USA">USA</option>
                            <option value="India">India</option>
                        </select>
                        <div *ngIf="address_step && address.state.errors" class="invalid-feedback">
                            <div *ngIf="address.state.errors.required">Please Select state</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="postal_code">Postal Code</label>
                        <input type="text" formControlName="postal_code" class="form-control"
                            [ngClass]="{ 'is-invalid': address_step && address.postal_code.errors }" />
                        <div *ngIf="address_step && address.postal_code.errors" class="invalid-feedback">
                            <div *ngIf="address.postal_code.errors.required">Postal Code is required</div>
                            <div *ngIf="address.postal_code.errors.minlength">Postal Code is minimum 5 characters</div>
                            <div *ngIf="address.postal_code.errors.maxlength">Postal Code is Maximum 8 characters</div>
                            <div *ngIf="address.postal_code.errors.pattern">Only Number and characters</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="phone_number">Phone Number</label>
                        <input type="text" formControlName="phone_number" class="form-control"
                            [ngClass]="{ 'is-invalid': address_step && address.phone_number.errors }" />
                        <div *ngIf="address_step && address.phone_number.errors" class="invalid-feedback">
                            <div *ngIf="address.phone_number.errors.required">Phone Number is required</div>
                            <div *ngIf="address.phone_number.errors.minlength">Phone Number is minimum 10 characters
                            </div>
                            <div *ngIf="address.phone_number.errors.maxlength">Phone Number is Maximum 12 characters
                            </div>
                            <div *ngIf="address.phone_number.errors.pattern">Only Number</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="mobile_number">Mobile Number</label>
                        <input type="text" formControlName="mobile_number" class="form-control"
                            [ngClass]="{ 'is-invalid': address_step && address.mobile_number.errors }" />
                        <div *ngIf="address_step && address.mobile_number.errors" class="invalid-feedback">
                            <div *ngIf="address.mobile_number.errors.required">Mobile Number is required</div>
                            <div *ngIf="address.mobile_number.errors.minlength">Mobile Number is minimum 10 characters
                            </div>
                            <div *ngIf="address.mobile_number.errors.maxlength">Mobile Number is Maximum 12 characters
                            </div>
                            <div *ngIf="address.mobile_number.errors.pattern">Only Number</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="fax_number">Fax Number</label>
                        <input type="text" class="form-control" formControlName="fax_number" />
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="btn btn-primary float-left"
                        value="Previous" />
                    <input (click)="next()" type="button" name="next" class="btn btn-primary float-right"
                        value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="otherDetails" id="msform">
                <fieldset *ngIf="step == 3">
                    <div class="form-group">
                        <label for="summary">Summary</label>
                        <textarea formControlName="summary" class="form-control"
                            [ngClass]="{ 'is-invalid': other_step && others.summary.errors }"
                            placeholder="Add additional summary here."></textarea>
                        <div *ngIf="other_step && others.summary.errors" class="invalid-feedback">
                            <div *ngIf="others.summary.errors.required">Summary is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="languages">Languages</label>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <label for="source_language">Source language</label>
                                <select class="custom-select" (change)="onChangeSource($event)">
                                    <option value="">Select One</option>
                                    <option [value]="languagelist.name" *ngFor="let languagelist of languageList">
                                        {{languagelist.name}}</option>
                                </select>
                                <div *ngIf="isSourceVal" [ngClass]="{ 'is-invalid': isSourceVal }">
                                    <div class="invalid-feedback">Please select source values</div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <label for="target_language">Target language</label>
                                <select class="custom-select" (change)="onChangeTarget($event)">
                                    <option value="">Select One</option>
                                    <option [value]="languagelist.name" *ngFor="let languagelist of languageList">
                                        {{languagelist.name}}</option>
                                </select>
                                <div *ngIf="isTargetVal" [ngClass]="{ 'is-invalid': isTargetVal }">
                                    <div class="invalid-feedback">Target Language is not same as Source</div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div *ngIf="isNotSelectLanguage" [ngClass]="{ 'is-invalid': isNotSelectLanguage }">
                                    <div class="invalid-feedback">Please select Source and Target Languages</div>
                                </div>
                                <input (click)="onClickAddLanguage()" type="button" name="add-language"
                                    class="btn btn-primary" value="Add Language" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div *ngFor="let item of addedLanguages; let i=index">
                                <label>
                                    {{item.source}} > {{item.target}} <span (click)="onClickDelete(i)">X</span>
                                </label>
                            </div>
                            <div *ngIf="languageRequired" [ngClass]="{ 'is-invalid': languageRequired}">
                                <div class="invalid-feedback">Languages required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="native_language">Native language</label>
                        <select class="custom-select" formControlName="native_language"
                            [ngClass]="{ 'is-invalid': other_step && others.native_language.errors }">
                            <option value="">Select One</option>
                            <option [value]="languagelist.name" *ngFor="let languagelist of languageList">
                                {{languagelist.name}}</option>
                        </select>
                        <div *ngIf="other_step && others.native_language.errors" class="invalid-feedback">
                            <div *ngIf="others.native_language.errors.required">Native language</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="services">Services</label>
                        <div class="checkbox-wrapper">
                            <span *ngFor="let item of seviceList; let i=index" class="three-rows">
                                <label>
                                    <input type="checkbox" [value]="item.value"
                                        (change)="onChangeServices($event, i)" />
                                    {{item.value}}
                                </label>
                            </span>
                        </div>
                        <div *ngIf="this.otherDetails.controls['services'].errors?.required"
                            [ngClass]="{ 'is-invalid': this.otherDetails.controls['services'].errors?.required }">
                            <div class="invalid-feedback">Services required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="subject_areas">Subject Areas</label>
                        <div class="checkbox-wrapper">
                            <span *ngFor="let item of subject_areas; let i=index" class="three-rows">
                                <label>
                                    <input type="checkbox" [value]="item.value" (change)="onChangeSubject($event, i)" />
                                    {{item.value}}
                                </label>
                            </span>
                        </div>
                        <div *ngIf="this.otherDetails.controls['subject_areas'].errors?.required"
                            [ngClass]="{ 'is-invalid': this.otherDetails.controls['subject_areas'].errors?.required }">
                            <div class="invalid-feedback">Subject Areas required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="services">Expertise</label>
                        <div class="checkbox-wrapper">
                            <span *ngFor="let item of expertise; let i=index" class="two-rows">
                                <label>
                                    <input type="checkbox" [value]="item.value"
                                        (change)="onChangeExpertise($event, i)" />
                                    {{item.value}}
                                </label>
                            </span>
                        </div>
                        <div *ngIf="this.otherDetails.controls['expertise'].errors?.required"
                            [ngClass]="{ 'is-invalid': this.otherDetails.controls['expertise'].errors?.required }">
                            <div class="invalid-feedback">Expertise required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="software">Software</label>
                        <div class="checkbox-wrapper">
                            <span *ngFor="let item of software; let i=index" class="three-rows">
                                <label>
                                    <input type="checkbox" [value]="item.value"
                                        (change)="onChangeSoftware($event, i)" />
                                    {{item.value}}
                                </label>
                            </span>
                        </div>
                        <div *ngIf="this.otherDetails.controls['software'].errors?.required"
                            [ngClass]="{ 'is-invalid': this.otherDetails.controls['software'].errors?.required }">
                            <div class="invalid-feedback">Software required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" formControlName="agree_terms" id="agree_terms" class="form-control"
                            [ngClass]="{ 'is-invalid': other_step && others.agree_terms.errors }" /> I have read and
                        agree to the Terms & conditions
                        <div *ngIf="other_step && others.agree_terms.errors" class="invalid-feedback">
                            <div *ngIf="others.agree_terms.errors.required">Terms is required</div>
                        </div>
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="btn btn-primary float-left"
                        value="Previous" />
                    <input (click)="submit()" type="submit" name="submit" class="btn btn-primary float-right"
                        value="Submit" />
                </fieldset>
            </form>
        </div>
    </div>
</div>
<app-notification *ngIf ="notificationDetails" [message]="notificationDetails.message" [popupShow]="notificationDetails.popupShow" [popupShowBg] ="notificationDetails.popupShowBg"></app-notification>